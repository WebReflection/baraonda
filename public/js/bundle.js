/*! (C) Andrea Giammarchi */
(function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<r.length;o++)i(r[o]);return i})({1:[function(e,t,n){t.exports=function(e){"use strict";function f(e,t,n,r,i){this.component=e,this.node=t,this.css=n,this.prefixes=r,this.doc=i}function l(e,t,n){return t+"-"+n.toLowerCase()}function c(e,t,n){var i=[],s=typeof t=="number"?"px":"",o=e.replace(r,l),u;for(u=0;u<n.length;u++)i.push("-",n[u],"-",o,":",t,s,";");return i.push(o,":",t,s,";"),i.join("")}function h(e,t){return e.length?e+"-"+t:t}function p(e,t,r,i){var s,u,a;for(s in r)if(n.call(r,s))if(typeof r[s]=="object")if(o(r[s])){u=r[s];for(a=0;a<u.length;a++)e.push(c(h(t,s),u[a],i))}else p(e,h(t,s),r[s],i);else e.push(c(h(t,s),r[s],i));return e.join("")}function d(e,t,r){var o=[],a,f,l,c,h,v,m,g,y,b;for(m in t)if(n.call(t,m)){a=m.charAt(0)==="@",v=a||!e.indexOf(m+" "),f=a&&s.test(m)?e:"",l=a&&!i.test(m),c=l?m.slice(1):m,g=u.concat(t[m]);for(y=0;y<g.length;y++){h=g[y];if(l){b=r.length;while(b--)o.push("@-",r[b],"-",c,"{",d(f,h,[r[b]]),"}");o.push(m,"{",d(f,h,r),"}")}else o.push(v?m:e+m,"{",p([],"",h,r),"}")}}return o.join("")}var t=e.toString,n=e.hasOwnProperty,r=/([a-z])([A-Z])/g,i=/^@(?:page|font-face)/,s=/^@(?:media)/,o=Array.isArray||function(e){return t.call(e)==="[object Array]"},u=[],a;return f.prototype={replace:function(e){e instanceof f||(e=a(this.component,e,this.prefixes,this.doc)),this.remove(),f.call(this,e.component,e.node,e.css,e.prefixes,e.doc)},remove:function(){var e=this.node,t=e.parentNode;t&&t.removeChild(e)},valueOf:function(){return this.css}},{"undefined":!0}[typeof document]?(a=function(e,t,n){return typeof e=="object"?(n=t,t=e,e=""):e+=" ",d(e,t,n||u)},a.restyle=a):a=function(e,t,n,r){typeof e=="object"?(r=n,n=t,t=e,i=e=""):i=e+" ";var i,s=r||(r=document),o=d(i,t,n||(n=a.prefixes)),u=s.head||s.getElementsByTagName("head")[0]||s.documentElement,l=u.insertBefore(s.createElement("style"),u.lastChild);return l.type="text/css",l.styleSheet?l.styleSheet.cssText=o:l.appendChild(s.createTextNode(o)),new f(e,l,o,n,r)},a.customElement=function(e,t,n){var r,i=Object.create(t.prototype);n&&n.css&&(n.css=a(e,n.css));for(r in n)i[r]=n[r];return document.registerElement(e,{prototype:i})},a.prefixes=["webkit","moz","ms","o"],a}({})},{}],2:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":3}],3:[function(e,t,n){function a(e,t){typeof e=="object"&&(t=e,e=undefined),t=t||{};var n=r(e),i=n.source,a=n.id,f;return t.forceNew||t["force new connection"]||!1===t.multiplex?(o("ignoring socket cache for %s",i),f=s(i,t)):(u[a]||(o("new io instance for %s",i),u[a]=s(i,t)),f=u[a]),f.socket(n.path)}var r=e("./url"),i=e("socket.io-parser"),s=e("./manager"),o=e("debug")("socket.io-client");t.exports=n=a;var u=n.managers={};n.protocol=i.protocol,n.connect=a,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":4,"./socket":6,"./url":7,debug:11,"socket.io-parser":47}],4:[function(e,t,n){function d(e,t){if(!(this instanceof d))return new d(e,t);e&&"object"==typeof e&&(t=e,e=undefined),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||Infinity),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new u.Encoder,this.decoder=new u.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}var r=e("./url"),i=e("engine.io-client"),s=e("./socket"),o=e("component-emitter"),u=e("socket.io-parser"),a=e("./on"),f=e("component-bind"),l=e("object-component"),c=e("debug")("socket.io-client:manager"),h=e("indexof"),p=e("backo2");t.exports=d,d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},d.prototype.updateSocketIds=function(){for(var e in this.nsps)this.nsps[e].id=this.engine.id},o(d.prototype),d.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},d.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},d.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},d.prototype.open=d.prototype.connect=function(e){c("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=i(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=a(t,"open",function(){n.onopen(),e&&e()}),s=a(t,"error",function(t){c("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t);if(e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;c("connect attempt will timeout after %d",o);var u=setTimeout(function(){c("connect attempt timed out after %d",o),r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(r),this.subs.push(s),this},d.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",f(this,"ondata"))),this.subs.push(a(this.decoder,"decoded",f(this,"ondecoded"))),this.subs.push(a(e,"error",f(this,"onerror"))),this.subs.push(a(e,"close",f(this,"onclose")))},d.prototype.ondata=function(e){this.decoder.add(e)},d.prototype.ondecoded=function(e){this.emit("packet",e)},d.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},d.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new s(this,e),this.nsps[e]=t;var n=this;t.on("connect",function(){t.id=n.engine.id,~h(n.connected,t)||n.connected.push(t)})}return t},d.prototype.destroy=function(e){var t=h(this.connected,e);~t&&this.connected.splice(t,1);if(this.connected.length)return;this.close()},d.prototype.packet=function(e){c("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++)t.engine.write(e[n]);t.encoding=!1,t.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},d.prototype.cleanup=function(){var e;while(e=this.subs.shift())e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(e){c("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){if(e.skipReconnect)return;c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts);if(e.skipReconnect)return;e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":5,"./socket":6,"./url":7,backo2:8,"component-bind":9,"component-emitter":10,debug:11,"engine.io-client":12,indexof:43,"object-component":44,"socket.io-parser":47}],5:[function(e,t,n){function r(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=r},{}],6:[function(e,t,n){function h(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var r=e("socket.io-parser"),i=e("component-emitter"),s=e("to-array"),o=e("./on"),u=e("component-bind"),a=e("debug")("socket.io-client:socket"),f=e("has-binary");t.exports=n=h;var l={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},c=i.prototype.emit;i(h.prototype),h.prototype.subEvents=function(){if(this.subs)return;var e=this.io;this.subs=[o(e,"open",u(this,"onopen")),o(e,"packet",u(this,"onpacket")),o(e,"close",u(this,"onclose"))]},h.prototype.open=h.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},h.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(l.hasOwnProperty(e))return c.apply(this,arguments),this;var t=s(arguments),n=r.EVENT;f(t)&&(n=r.BINARY_EVENT);var i={type:n,data:t};return"function"==typeof t[t.length-1]&&(a("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){a("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},h.prototype.onclose=function(e){a("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){if(e.nsp!=this.nsp)return;switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(e);break;case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:this.onack(e);break;case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];a("emitting event %j",t),null!=e.id&&(a("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?c.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1;return function(){if(n)return;n=!0;var i=s(arguments);a("sending ack %j",i);var o=f(i)?r.BINARY_ACK:r.ACK;t.packet({type:o,id:e,data:i})}},h.prototype.onack=function(e){a("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)c.apply(this,this.receiveBuffer[e]);this.receiveBuffer=[];for(e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":5,"component-bind":9,"component-emitter":10,debug:11,"has-binary":41,"socket.io-parser":47,"to-array":51}],7:[function(e,t,n){(function(n){function s(e,t){var s=e,t=t||n.location;return null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&("/"==e.charAt(1)?e=t.protocol+e:e=t.hostname+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),"undefined"!=typeof t?e=t.protocol+"//"+e:e="https://"+e),i("parse %s",e),s=r(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/",s.id=s.protocol+"://"+s.host+":"+s.port,s.href=s.protocol+"://"+s.host+(t&&t.port==s.port?"":":"+s.port),s}var r=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=s}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{debug:11,parseuri:45}],8:[function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},{}],9:[function(e,t,n){var r=[].slice;t.exports=function(e,t){"string"==typeof t&&(t=e[t]);if("function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},{}],10:[function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function r(){n.off(e,r),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;var r;for(var i=0;i<n.length;i++){r=n[i];if(r===t||r.fn===t){n.splice(i,1);break}}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],11:[function(e,t,n){function r(e){return r.enabled(e)?function(t){t=i(t);var n=new Date,s=n-(r[e]||n);r[e]=n,t=e+" "+t+" +"+r.humanize(s),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function i(e){return e instanceof Error?e.stack||e.message:e}t.exports=r,r.names=[],r.skips=[],r.enable=function(e){try{localStorage.debug=e}catch(t){}var n=(e||"").split(/[\s,]+/),i=n.length;for(var s=0;s<i;s++)e=n[s].replace("*",".*?"),e[0]==="-"?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$"))},r.disable=function(){r.enable("")},r.humanize=function(e){var t=1e3,n=6e4,r=60*n;return e>=r?(e/r).toFixed(1)+"h":e>=n?(e/n).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},r.enabled=function(e){for(var t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(var t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1};try{window.localStorage&&r.enable(localStorage.debug)}catch(s){}},{}],12:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":13}],13:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":14,"engine.io-parser":26}],14:[function(e,t,n){(function(n){function c(){}function h(e,t){if(!(this instanceof h))return new h(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=a(e),t.host=e.host,t.secure=e.protocol=="https"||e.protocol=="wss",t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol;if(t.host){var r=t.host.split(":");t.hostname=r.shift(),r.length?t.port=r.pop():t.port||(t.port=this.secure?"443":"80")}this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized||null,this.open()}function p(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var r=e("./transports"),i=e("component-emitter"),s=e("debug")("engine.io-client:socket"),o=e("indexof"),u=e("engine.io-parser"),a=e("parseuri"),f=e("parsejson"),l=e("parseqs");t.exports=h,h.priorWebsocketSuccess=!1,i(h.prototype),h.protocol=u.protocol,h.Socket=h,h.Transport=e("./transport"),h.transports=e("./transports"),h.parser=e("engine.io-parser"),h.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=p(this.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new r[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},h.prototype.open=function(){var e;if(this.rememberUpgrade&&h.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)e="websocket";else{if(0==this.transports.length){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(n){this.transports.shift(),this.open();return}e.open(),this.setTransport(e)},h.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},h.prototype.probe=function(e){function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}if(n)return;s('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(n)return;if("pong"==i.type&&"probe"==i.data){s('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t);if(!t)return;h.priorWebsocketSuccess="websocket"==t.name,s('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){if(n)return;if("closed"==r.readyState)return;s("changing transport and sending upgrade packet"),c(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush()})}else{s('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,r.emit("upgradeError",o)}})}function o(){if(n)return;n=!0,c(),t.close(),t=null}function u(n){var i=new Error("probe error: "+n);i.transport=t.name,o(),s('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function a(){u("transport closed")}function f(){u("socket closed")}function l(e){t&&e.name!=t.name&&(s('"%s" works - aborting "%s"',e.name,t.name),o())}function c(){t.removeListener("open",i),t.removeListener("error",u),t.removeListener("close",a),r.removeListener("close",f),r.removeListener("upgrading",l)}s('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;h.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",u),t.once("close",a),this.once("close",f),this.once("upgrading",l),t.open()},h.prototype.onOpen=function(){s("socket open"),this.readyState="open",h.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},h.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState){s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat");switch(e.type){case"open":this.onHandshake(f(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}}else s('packet received with socket readyState "%s"',this.readyState)},h.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen();if("closed"==this.readyState)return;this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat)},h.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){if("closed"==t.readyState)return;t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},h.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},h.prototype.ping=function(){this.sendPacket("ping")},h.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length==0?this.emit("drain"):this.flush()},h.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},h.prototype.write=h.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},h.prototype.sendPacket=function(e,t,n){if("closing"==this.readyState||"closed"==this.readyState)return;var r={type:e,data:t};this.emit("packetCreate",r),this.writeBuffer.push(r),this.callbackBuffer.push(n),this.flush()},h.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var e=this;function t(){e.onClose("forced close"),s("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}return this},h.prototype.onError=function(e){s("socket error %j",e),h.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},h.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},h.prototype.filterUpgrades=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)~o(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./transport":15,"./transports":16,"component-emitter":10,debug:23,"engine.io-parser":26,indexof:43,parsejson:37,parseqs:38,parseuri:39}],15:[function(e,t,n){function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized}var r=e("engine.io-parser"),i=e("component-emitter");t.exports=s,i(s.prototype),s.timestamps=0,s.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},s.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this},s.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this},s.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},s.prototype.onPacket=function(e){this.emit("packet",e)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":10,"engine.io-parser":26}],16:[function(e,t,n){(function(t){function u(e){var n,o=!1,u=!1,a=!1!==e.jsonp;if(t.location){var f="https:"==location.protocol,l=location.port;l||(l=f?443:80),o=e.hostname!=location.hostname||l!=e.port,u=e.secure!=f}e.xdomain=o,e.xscheme=u,n=new r(e);if("open"in n&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new s(e)}var r=e("xmlhttprequest"),i=e("./polling-xhr"),s=e("./polling-jsonp"),o=e("./websocket");n.polling=u,n.websocket=o}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./polling-jsonp":17,"./polling-xhr":18,"./websocket":20,xmlhttprequest:21}],17:[function(e,t,n){(function(n){function f(){}function l(e){r.call(this,e),this.query=this.query||{},u||(n.___eio||(n.___eio=[]),u=n.___eio),this.index=u.length;var t=this;u.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=f)},!1)}var r=e("./polling"),i=e("component-inherit");t.exports=l;var s=/\n/g,o=/\\n/g,u,a=0;i(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},l.prototype.doWrite=function(e,t){function f(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';a=document.createElement(t)}catch(e){a=document.createElement("iframe"),a.name=n.iframeId,a.src="javascript:0"}a.id=n.iframeId,n.form.appendChild(a),n.iframe=a}var n=this;if(!this.form){var r=document.createElement("form"),i=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index,a;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=u,r.method="POST",r.setAttribute("accept-charset","utf-8"),i.name="d",r.appendChild(i),document.body.appendChild(r),this.form=r,this.area=i}this.form.action=this.uri(),l(),e=e.replace(o,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(c){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState=="complete"&&f()}:this.iframe.onload=f}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./polling":19,"component-inherit":22}],18:[function(e,t,n){(function(n){function a(){}function f(e){i.call(this,e);if(n.location){var t="https:"==location.protocol,r=location.port;r||(r=t?443:80),this.xd=e.hostname!=n.location.hostname||r!=e.port,this.xs=e.secure!=t}}function l(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=undefined!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.create()}function c(){for(var e in l.requests)l.requests.hasOwnProperty(e)&&l.requests[e].abort()}var r=e("xmlhttprequest"),i=e("./polling"),s=e("component-emitter"),o=e("component-inherit"),u=e("debug")("engine.io-client:polling-xhr");t.exports=f,t.exports.Request=l,o(f,i),f.prototype.supportsBinary=!0,f.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,new l(e)},f.prototype.doWrite=function(e,t){var n=typeof e!="string"&&e!==undefined,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},f.prototype.doPoll=function(){u("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},s(l.prototype),l.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),i=this;try{u("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){if(4!=t.readyState)return;200==
t.status||1223==t.status?i.onLoad():setTimeout(function(){i.onError(t.status)},0)},u("xhr data %s",this.data),t.send(this.data)}catch(s){setTimeout(function(){i.onError(s)},0);return}n.document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},l.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},l.prototype.cleanup=function(e){if("undefined"==typeof this.xhr||null===this.xhr)return;this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a;if(e)try{this.xhr.abort()}catch(t){}n.document&&delete l.requests[this.index],this.xhr=null},l.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}t==="application/octet-stream"?e=this.xhr.response:this.supportsBinary?e="ok":e=this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},l.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},n.document&&(l.requestsCount=0,l.requests={},n.attachEvent?n.attachEvent("onunload",c):n.addEventListener&&n.addEventListener("beforeunload",c,!1))}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./polling":19,"component-emitter":10,"component-inherit":22,debug:23,xmlhttprequest:21}],19:[function(e,t,n){function f(e){var t=e&&e.forceBase64;if(!a||t)this.supportsBinary=!1;r.call(this,e)}var r=e("../transport"),i=e("parseqs"),s=e("engine.io-parser"),o=e("component-inherit"),u=e("debug")("engine.io-client:polling");t.exports=f;var a=function(){var t=e("xmlhttprequest"),n=new t({xdomain:!1});return null!=n.responseType}();o(f,r),f.prototype.name="polling",f.prototype.doOpen=function(){this.poll()},f.prototype.pause=function(e){function r(){u("paused"),n.readyState="paused",e()}var t=0,n=this;this.readyState="pausing";if(this.polling||!this.writable){var i=0;this.polling&&(u("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){u("pre-pause polling complete"),--i||r()})),this.writable||(u("we are currently writing - waiting to pause"),i++,this.once("drain",function(){u("pre-pause writing complete"),--i||r()}))}else r()},f.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},f.prototype.onData=function(e){var t=this;u("polling got data %s",e);var n=function(e,n,r){"opening"==t.readyState&&t.onOpen();if("close"==e.type)return t.onClose(),!1;t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},f.prototype.doClose=function(){function t(){u("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},f.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+(new Date)+"-"+r.timestamps++),!this.supportsBinary&&!e.sid&&(e.b64=1),e=i.encode(e),this.port&&("https"==t&&this.port!=443||"http"==t&&this.port!=80)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e}},{"../transport":15,"component-inherit":22,debug:23,"engine.io-parser":26,parseqs:38,xmlhttprequest:21}],20:[function(e,t,n){function f(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),i=e("engine.io-parser"),s=e("parseqs"),o=e("component-inherit"),u=e("debug")("engine.io-client:websocket"),a=e("ws");t.exports=f,o(f,r),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(!this.check())return;var e=this,t=this.uri(),n=void 0,r={agent:this.agent};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.ws=new a(t,n,r),this.ws.binaryType===undefined&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()},f.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(f.prototype.onData=function(e){var t=this;setTimeout(function(){r.prototype.onData.call(t,e)},0)}),f.prototype.write=function(e){function s(){t.writable=!0,t.emit("drain")}var t=this;this.writable=!1;for(var n=0,r=e.length;n<r;n++)i.encodePacket(e[n],this.supportsBinary,function(e){try{t.ws.send(e)}catch(n){u("websocket closed before onclose event")}});setTimeout(s,0)},f.prototype.onClose=function(){r.prototype.onClose.call(this)},f.prototype.doClose=function(){typeof this.ws!="undefined"&&this.ws.close()},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&this.port!=443||"ws"==t&&this.port!=80)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+(new Date)),this.supportsBinary||(e.b64=1),e=s.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e},f.prototype.check=function(){return!!a&&!("__initialize"in a&&this.name===f.prototype.name)}},{"../transport":15,"component-inherit":22,debug:23,"engine.io-parser":26,parseqs:38,ws:40}],21:[function(e,t,n){var r=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(s){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}},{"has-cors":35}],22:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],23:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff);if(!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){if("%%"===e)return;i++,"%c"===e&&(s=i)}),e.splice(s,0,r),e}function s(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?localStorage.removeItem("debug"):localStorage.debug=e}catch(t){}}function u(){var e;try{e=localStorage.debug}catch(t){}return e}n=t.exports=e("./debug"),n.log=s,n.formatArgs=i,n.save=o,n.load=u,n.useColors=r,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(u())},{"./debug":24}],24:[function(e,t,n){function s(){return n.colors[r++%n.colors.length]}function o(e){function t(){}function r(){var e=r,t=+(new Date),o=t-(i||t);e.diff=o,e.prev=i,e.curr=t,i=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=s());var u=Array.prototype.slice.call(arguments);u[0]=n.coerce(u[0]),"string"!=typeof u[0]&&(u=["%o"].concat(u));var a=0;u[0]=u[0].replace(/%([a-z%])/g,function(t,r){if(t==="%%")return t;a++;var i=n.formatters[r];if("function"==typeof i){var s=u[a];t=i.call(e,s),u.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(u=n.formatArgs.apply(e,u));var f=r.log||n.log||console.log.bind(console);f.apply(e,u)}t.enabled=!1,r.enabled=!0;var o=n.enabled(e)?r:t;return o.namespace=e,o}function u(e){n.save(e);var t=(e||"").split(/[\s,]+/),r=t.length;for(var i=0;i<r;i++){if(!t[i])continue;e=t[i].replace(/\*/g,".*?"),e[0]==="-"?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$"))}}function a(){n.enable("")}function f(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=l,n.disable=a,n.enable=u,n.enabled=f,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var r=0,i},{ms:25}],25:[function(e,t,n){function a(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]),a=(t[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"y":return n*u;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"h":return n*s;case"minutes":case"minute":case"m":return n*i;case"seconds":case"second":case"s":return n*r;case"ms":return n}}function f(e){return e>=o?Math.round(e/o)+"d":e>=s?Math.round(e/s)+"h":e>=i?Math.round(e/i)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}function l(e){return c(e,o,"day")||c(e,s,"hour")||c(e,i,"minute")||c(e,r,"second")||e+" ms"}function c(e,t,n){if(e<t)return;return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var r=1e3,i=r*60,s=i*60,o=s*24,u=o*365.25;t.exports=function(e,t){return t=t||{},"string"==typeof e?a(e):t.long?l(e):f(e)}},{}],26:[function(e,t,n){(function(t){function m(e,t){var r="b"+n.packets[e.type]+e.data.data;return t(r)}function g(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var i=e.data,s=new Uint8Array(i),o=new Uint8Array(1+i.byteLength);o[0]=h[e.type];for(var u=0;u<s.length;u++)o[u+1]=s[u];return r(o.buffer)}function y(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,n.encodePacket(e,t,!0,r)},i.readAsArrayBuffer(e.data)}function b(e,t,r){if(!t)return n.encodeBase64Packet(e,r);if(c)return y(e,t,r);var i=new Uint8Array(1);i[0]=h[e.type];var s=new v([i.buffer,e.data]);return r(s)}function w(e,t,n){var r=new Array(e.length),i=u(e.length,n),s=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})};for(var o=0;o<e.length;o++)s(o,e[o],i)}var r=e("./keys"),i=e("has-binary"),s=e("arraybuffer.slice"),o=e("base64-arraybuffer"),u=e("after"),a=e("utf8"),f=navigator.userAgent.match(/Android/i),l=/PhantomJS/i.test(navigator.userAgent),c=f||l;n.protocol=3;var h=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=r(h),d={type:"error",data:"parser error"},v=e("blob");n.encodePacket=function(e,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var s=e.data===undefined?undefined:e.data.buffer||e.data;if(t.ArrayBuffer&&s instanceof ArrayBuffer)return g(e,n,i);if(v&&s instanceof t.Blob)return b(e,n,i);if(s&&s.base64)return m(e,i);var o=h[e.type];return undefined!==e.data&&(o+=r?a.encode(String(e.data)):String(e.data)),i(""+o)},n.encodeBase64Packet=function(e,r){var i="b"+n.packets[e.type];if(v&&e.data instanceof v){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];r(i+e)},s.readAsDataURL(e.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(u){var a=new Uint8Array(e.data),f=new Array(a.length);for(var l=0;l<a.length;l++)f[l]=a[l];o=String.fromCharCode.apply(null,f)}return i+=t.btoa(o),r(i)},n.decodePacket=function(e,t,r){if(typeof e=="string"||e===undefined){if(e.charAt(0)=="b")return n.decodeBase64Packet(e.substr(1),t);if(r)try{e=a.decode(e)}catch(i){return d}var o=e.charAt(0);return Number(o)!=o||!p[o]?d:e.length>1?{type:p[o],data:e.substring(1)}:{type:p[o]}}var u=new Uint8Array(e),o=u[0],f=s(e,1);return v&&t==="blob"&&(f=new v([f])),{type:p[o],data:f}},n.decodeBase64Packet=function(e,n){var r=p[e.charAt(0)];if(!t.ArrayBuffer)return{type:r,data:{base64:!0,data:e.substr(1)}};var i=o.decode(e.substr(1));return n==="blob"&&v&&(i=new v([i])),{type:r,data:i}},n.encodePayload=function(e,t,r){function o(e){return e.length+":"+e}function u(e,r){n.encodePacket(e,s?t:!1,!0,function(e){r(null,o(e))})}typeof t=="function"&&(r=t,t=null);var s=i(e);if(t&&s)return v&&!c?n.encodePayloadAsBlob(e,r):n.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");w(e,u,function(e,t){return r(t.join(""))})},n.decodePayload=function(e,t,r){if(typeof e!="string")return n.decodePayloadAsBinary(e,t,r);typeof t=="function"&&(r=t,t=null);var i;if(e=="")return r(d,0,1);var s="",o,u;for(var a=0,f=e.length;a<f;a++){var l=e.charAt(a);if(":"!=l)s+=l;else{if(""==s||s!=(o=Number(s)))return r(d,0,1);u=e.substr(a+1,o);if(s!=u.length)return r(d,0,1);if(u.length){i=n.decodePacket(u,t,!0);if(d.type==i.type&&d.data==i.data)return r(d,0,1);var c=r(i,a+o,f);if(!1===c)return}a+=o,s=""}}if(s!="")return r(d,0,1)},n.encodePayloadAsArrayBuffer=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}if(!e.length)return t(new ArrayBuffer(0));w(e,r,function(e,n){var r=n.reduce(function(e,t){var n;return typeof t=="string"?n=t.length:n=t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(r),s=0;return n.forEach(function(e){var t=typeof e=="string",n=e;if(t){var r=new Uint8Array(e.length);for(var o=0;o<e.length;o++)r[o]=e.charCodeAt(o);n=r.buffer}t?i[s++]=0:i[s++]=1;var u=n.byteLength.toString();for(var o=0;o<u.length;o++)i[s++]=parseInt(u[o]);i[s++]=255;var r=new Uint8Array(n);for(var o=0;o<r.length;o++)i[s++]=r[o]}),t(i.buffer)})},n.encodePayloadAsBlob=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);n[0]=1;if(typeof e=="string"){var r=new Uint8Array(e.length);for(var i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,n[0]=0}var s=e instanceof ArrayBuffer?e.byteLength:e.size,o=s.toString(),u=new Uint8Array(o.length+1);for(var i=0;i<o.length;i++)u[i]=parseInt(o[i]);u[o.length]=255;if(v){var a=new v([n.buffer,u.buffer,e]);t(null,a)}})}w(e,r,function(e,n){return t(new v(n))})},n.decodePayloadAsBinary=function(e,t,r){typeof t=="function"&&(r=t,t=null);var i=e,o=[],u=!1;while(i.byteLength>0){var a=new Uint8Array(i),f=a[0]===0,l="";for(var c=1;;c++){if(a[c]==255)break;if(l.length>310){u=!0;break}l+=a[c]}if(u)return r(d,0,1);i=s(i,2+l.length),l=parseInt(l);var h=s(i,0,l);if(f)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(p){var v=new Uint8Array(h);h="";for(var c=0;c<v.length;c++)h+=String.fromCharCode(v[c])}o.push(h),i=s(i,l)}var m=o.length;o.forEach(function(e,i){r(n.decodePacket(e,t,!0),i,m)})}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./keys":27,after:28,"arraybuffer.slice":29,"base64-arraybuffer":30,blob:31,"has-binary":32,utf8:34}],27:[function(e,t,n){t.exports=Object.keys||function(t){var n=[],r=Object.prototype.hasOwnProperty;for(var i in t)r.call(t,i)&&n.push(i);return n}},{}],28:[function(e,t,n){function r(e,t,n){function s(e,i){if(s.count<=0)throw new Error("after called too many times");--s.count,e?(r=!0,t(e),t=n):s.count===0&&!r&&t(null,i)}var r=!1;return n=n||i,s.count=e,e===0?t():s}function i(){}t.exports=r},{}],29:[function(e,t,n){t.exports=function(e,t,n){var r=e.byteLength;t=t||0,n=n||r;if(e.slice)return e.slice(t,n);t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r);if(t>=r||t>=n||r===0)return new ArrayBuffer(0);var i=new Uint8Array(e),s=new Uint8Array(n-t);for(var o=t,u=0;o<n;o++,u++)s[u]=i[o];return s.buffer}},{}],30:[function(e,t,n){(function(e){"use strict";n.encode=function(t){var n=new Uint8Array(t),r,i=n.length,s="";for(r=0;r<i;r+=3)s+=e[n[r]>>2],s+=e[(n[r]&3)<<4|n[r+1]>>4],s+=e[(n[r+1]&15)<<2|n[r+2]>>6],s+=e[n[r+2]&63];return i%3===2?s=s.substring(0,s.length-1)+"=":i%3===1&&(s=s.substring(0,s.length-2)+"=="),s},n.decode=function(t){var n=t.length*.75,r=t.length,i,s=0,o,u,a,f;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);var l=new ArrayBuffer(n),c=new Uint8Array(l);for(i=0;i<r;i+=4)o=e.indexOf(t[i]),u=e.indexOf(t[i+1]),a=e.indexOf(t[i+2]),f=e.indexOf(t[i+3]),c[s++]=o<<2|u>>4,c[s++]=(u&15)<<4|a>>2,c[s++]=(a&3)<<6|f&63;return l}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],31:[function(e,t,n){(function(e){function s(e,t){t=t||{};var r=new n;for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{var e=new Blob(["hi"]);return e.size==2}catch(t){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;t.exports=function(){return r?e.Blob:i?s:undefined}()}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],32:[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(r(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var s in e)if(e.hasOwnProperty(s)&&t(e[s]))return!0}return!1}return t(e)}var r=e("isarray");t.exports=i}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{isarray:33}],33:[function(e,t,n){t.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}},{}],34:[function(e,t,n){(function(e){(function(r){function a(e){var t=[],n=0,r=e.length,i,s;while(n<r)i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<r?(s=e.charCodeAt(n++),(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),n--)):t.push(i);return t}function f(e){var t=e.length,n=-1,r,i="";while(++n<t)r=e[n],r>65535&&(r-=65536,i+=u(r>>>10&1023|55296),r=56320|r&1023),i+=u(r);return i}function l(e,t){return u(e>>t&63|128)}function c(e){if((e&4294967168)==0)return u(e);var t="";return(e&4294965248)==0?t=u(e>>6&31|192):(e&4294901760)==0?(t=u(e>>12&15|224),t+=l(e,6)):(e&4292870144)==0&&(t=u(e>>18&7|240),t+=l(e,12),t+=l(e,6)),t+=u(e&63|128),t}function h(e){var t=a(e),n=t.length,r=-1,i,s="";while(++r<n)i=t[r],s+=c(i);return s}function p(){if(g>=m)throw Error("Invalid byte index");var e=v[g]&255;g++;if((e&192)==128)return e&63;throw Error("Invalid continuation byte")}function d(){var e,t,n,r,i;if(g>m)throw Error("Invalid byte index");if(g==m)return!1;e=v[g]&255,g++;if((e&128)==0)return e;if((e&224)==192){var t=p();i=(e&31)<<6|t;if(i>=128)return i;throw Error("Invalid continuation byte")}if((e&240)==224){t=p(),n=p(),i=(e&15)<<12|t<<6|n;if(i>=2048)return i;throw Error("Invalid continuation byte")}if((e&248)==240){t=p(),n=p(),r=p(),i=(e&15)<<18|t<<12|n<<6|r;if(i>=65536&&i<=1114111)return i}throw Error("Invalid UTF-8 detected")}function y(e){v=a(e),m=v.length,g=0;var t=[],n;while((n=d())!==!1)t.push(n);return f(t)}var i=typeof n=="object"&&n,s=typeof t=="object"&&t&&t.exports==i&&t,o=typeof e=="object"&&e;if(o.global===o||o.window===o)r=o;var u=String.fromCharCode,v,m,g,b={version:"2.0.0",encode:h,decode:y};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd)define(function(){return b});else if(i&&!i.nodeType)if(s)s.exports=b;else{var w={},E=w.hasOwnProperty;for(var S in b)E.call(b,S)&&(i[S]=b[S])}else r.utf8=b})(this)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],35:[function(e,t,n){var r=e("global");try{t.exports="XMLHttpRequest"in r&&"withCredentials"in new r.XMLHttpRequest}catch(i){t.exports=!1}},{global:36}],36:[function(e,t,n){t.exports=function(){return this}()},{}],37:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,o=/^\s+/,u=/\s+$/;t.exports=function(a){if("string"!=typeof a||!a)return null;a=a.replace(o,"").replace(u,"");if(e.JSON&&JSON.parse)return JSON.parse(a);if(n.test(a.replace(r,"@").replace(i,"]").replace(s,"")))return(new Function("return "+a))()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],38:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){var t={},n=e.split("&");for(var r=0,i=n.length;r<i;r++){var s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},{}],39:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var n=t,s=t.indexOf("["),o=t.indexOf("]");s!=-1&&o!=-1&&(t=t.substring(0,s)+t.substring(s,o).replace(/:/g,";")+t.substring(o,t.length));var u=r.exec(t||""),a={},f=14;while(f--)a[i[f]]=u[f]||"";return s!=-1&&o!=-1&&(a.source=n,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],40:[function(e,t,n){function s(e,t,n){var r;return t?r=new i(e,t):r=new i(e),r}var r=function(){return this}(),i=r.WebSocket||r.MozWebSocket;t.exports=i?s:null,i&&(s.prototype=i.prototype)},{}],41:[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(r(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0}return!1}return t(e)}var r=e("isarray");t.exports=i}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{isarray:42}],42:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],43:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],44:[function(e,t,n){var r=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],45:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var n=r.exec(t||""),s={},o=14;while(o--)s[i[o]]=n[o]||"";return s}},{}],46:[function(e,t,n){(function(t){var r=e("isarray"),i=e("./is-buffer");n.deconstructPacket=function(e){function s(e){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){var o=new Array(e.length);for(var u=0;u<e.length;u++)o[u]=s(e[u]);return o}if("object"!=typeof e||e instanceof Date)return e;var o={};for(var a in e)o[a]=s(e[a]);return o}var t=[],n=e.data,o=e;return o.data=s(n),o.attachments=t.length,{packet:o,buffers:t}},n.reconstructPacket=function(e,t){function i(e){if(e&&e._placeholder){var n=t[e.num];return n}if(r(e)){for(var s=0;s<e.length;s++)e[s]=i(e[s]);return e}if(e&&"object"==typeof e){for(var o in e)e[o]=i(e[o]);return e}return e}var n=0;return e.data=i(e.data),e.attachments=undefined,e},n.removeBlobs=function(e,n){function s(e,a,f){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){o++;var l=new FileReader;l.onload=function(){f?f[a]=this.result:u=this.result,--o||n(u)},l.readAsArrayBuffer(e)}else if(r(e))for(var c=0;c<e.length;c++)s(e[c],c,e);else if(e&&"object"==typeof e&&!i(e))for(var h in e)s(e[h],h,e)}var o=0,u=e;s(u),o||n(u)}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./is-buffer":48,isarray:49}],47:[function(e,t,n){function f(){}function l(e){var t="",s=!1;t+=e.type;if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)t+=e.attachments,t+="-";return e.nsp&&"/"!=e.nsp&&(s=!0,t+=e.nsp),null!=e.id&&(s&&(t+=",",s=!1),t+=e.id),null!=e.data&&(s&&(t+=","),t+=i.stringify(e.data)),r("encoded %j as %s",e,t),t}function c(e,t){function n(e){var n=u.deconstructPacket(e),r=l(n.packet),i=n.buffers;i.unshift(r),t(i)}u.removeBlobs(e,n)}function h(){this.reconstructor=null}function p(e){var t={},s=0;t.type=Number(e.charAt(0));if(null==n.types[t.type])return v();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){var o="";while(e.charAt(++s)!="-"){o+=e.charAt(s);if(s==e.length)break}if(o!=Number(o)||e.charAt(s)!="-")throw new Error("Illegal attachments");t.attachments=Number(o)}if("/"==e.charAt(s+1)){t.nsp="";while(++s){var u=e.charAt(s);if(","==u)break;t.nsp+=u;if(s==e.length)break}}else t.nsp="/";var a=e.charAt(s+1);if(""!==a&&Number(a)==a){t.id="";while(++s){var u=e.charAt(s);if(null==u||Number(u)!=u){--s;break}t.id+=e.charAt(s);if(s==e.length)break}t.id=Number(t.id)}if(e.charAt(++s))try{t.data=i.parse(e.substr(s))}catch(f){return v()}return r("decoded %s as %j",e,t),t}function d(e){this.reconPack=e,this.buffers=[]}function v(e){return{type:n.ERROR,data:"parser error"}}var r=e("debug")("socket.io-parser"),i=e("json3"),s=e("isarray"),o=e("component-emitter"),u=e("./binary"),a=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=f,n.Decoder=h,f.prototype.encode=function(e,t){r("encoding packet %j",e);if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)c(e,t);else{var i=l(e);t([i])}},o(h.prototype),h.prototype.add=function(e){var t;if("string"==typeof e)t=p(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new d(t),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){this.buffers.push(e);if(this.buffers.length==this.reconPack.attachments){var t=u.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":10,debug:11,isarray:49,json3:50}],48:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],49:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],50:[function(e,t,n){(function(e){function c(e){if(c[e]!==s)return c[e];var n;if(e=="bug-string-char-index")n="a"[0]!="a";else if(e=="json")n=c("json-stringify")&&c("json-parse");else{var r,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(e=="json-stringify"){var o=a.stringify,u=typeof o=="function"&&f;if(u){(r=function(){return 1}).toJSON=r;try{u=o(0)==="0"&&o(new Number)==="0"&&o(new String)=='""'&&o(t)===s&&o(s)===s&&o()===s&&o(r)==="1"&&o([r])=="[1]"&&o([s])=="[null]"&&o(null)=="null"&&o([s,t,null])=="[null,null,null]"&&o({a:[r,true,false,null,"\0\b\n\f\r	"]})==i&&o(null,r)==="1"&&o([1,2],null,1)=="[\n 1,\n 2\n]"&&o(new Date(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&o(new Date(864e13))=='"+275760-09-13T00:00:00.000Z"'&&o(new Date(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&o(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch(l){u=!1}}n=u}if(e=="json-parse"){var h=a.parse;if(typeof h=="function")try{if(h("0")===0&&!h(!1)){r=h(i);var p=r["a"].length==5&&r.a[0]===1;if(p){try{p=!h('"	"')}catch(l){}if(p)try{p=h("01")!==1}catch(l){}if(p)try{p=h("1.")!==1}catch(l){}}}}catch(l){p=!1}n=p}}return c[e]=!!n}var t={}.toString,r,i,s,o=typeof define=="function"&&define.amd,u=typeof JSON=="object"&&JSON,a=typeof n=="object"&&n&&!n.nodeType&&n;a&&u?(a.stringify=u.stringify,a.parse=u.parse):a=e.JSON=u||{};var f=new Date(-0xc782b5b800cec);try{f=f.getUTCFullYear()==-109252&&f.getUTCMonth()===0&&f.getUTCDate()===1&&f.getUTCHours()==10&&f.getUTCMinutes()==37&&f.getUTCSeconds()==6&&f.getUTCMilliseconds()==708}catch(l){}if(!c("json")){var h="[object Function]",p="[object Date]",d="[object Number]",v="[object String]",m="[object Array]",g="[object Boolean]",y=c("bug-string-char-index");if(!f)var b=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(e,t){return w[t]+365*(e-1970)+b((e-1969+(t=+(t>1)))/4)-b((e-1901+t)/100)+b((e-1601+t)/400)};(r={}.hasOwnProperty)||(r=function(e){var n={},i;return(n.__proto__=null,n.__proto__={toString:1},n).toString!=t?r=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(i=n.constructor,r=function(e){var t=(this.constructor||i).prototype;return e in this&&!(e in t&&this[e]===t[e])}),n=null,r.call(this,e)});var S={"boolean":1,number:1,string:1,"undefined":1},x=function(e,t){var n=typeof e[t];return n=="object"?!!e[t]:!S[n]};i=function(e,n){var s=0,o,u,a;(o=function(){this.valueOf=0}).prototype.valueOf=0,u=new o;for(a in u)r.call(u,a)&&s++;return o=u=null,s?s==2?i=function(e,n){var i={},s=t.call(e)==h,o;for(o in e)(!s||o!="prototype")&&!r.call(i,o)&&(i[o]=1)&&r.call(e,o)&&n(o)}:i=function(e,n){var i=t.call(e)==h,s,o;for(s in e)(!i||s!="prototype")&&r.call(e,s)&&!(o=s==="constructor")&&n(s);(o||r.call(e,s="constructor"))&&n(s)}:(u=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],i=function(e,n){var i=t.call(e)==h,s,o,a=!i&&typeof e.constructor!="function"&&x(e,"hasOwnProperty")?e.hasOwnProperty:r;for(s in e)(!i||s!="prototype")&&a.call(e,s)&&n(s);for(o=u.length;s=u[--o];a.call(e,s)&&n(s));}),i(e,n)};if(!c("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},N="000000",C=function(e,t){return(N+(t||0)).slice(-e)},k="\\u00",L=function(e){var t='"',n=0,r=e.length,i=r>10&&y,s;i&&(s=e.split(""));for(;n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=T[o];break;default:if(o<32){t+=k+C(2,o.toString(16));break}t+=i?s[n]:y?e.charAt(n):e[n]}}return t+'"'},A=function(e,n,o,u,a,f,l){var c,h,y,w,S,x,T,N,k,O,M,_,D,P,H,B;try{c=n[e]}catch(j){}if(typeof c=="object"&&c){h=t.call(c);if(h==p&&!r.call(c,"toJSON"))if(c>-1/0&&c<1/0){if(E){S=b(c/864e5);for(y=b(S/365.2425)+1970-1;E(y+1,0)<=S;y++);for(w=b((S-E(y,0))/30.42);E(y,w+1)<=S;w++);S=1+S-E(y,w),x=(c%864e5+864e5)%864e5,T=b(x/36e5)%24,N=b(x/6e4)%60,k=b(x/1e3)%60,O=x%1e3}else y=c.getUTCFullYear(),w=c.getUTCMonth(),S=c.getUTCDate(),T=c.getUTCHours(),N=c.getUTCMinutes(),k=c.getUTCSeconds(),O=c.getUTCMilliseconds();c=(y<=0||y>=1e4?(y<0?"-":"+")+C(6,y<0?-y:y):C(4,y))+"-"+C(2,w+1)+"-"+C(2,S)+"T"+C(2,T)+":"+C(2,N)+":"+C(2,k)+"."+C(3,O)+"Z"}else c=null;else typeof c.toJSON=="function"&&(h!=d&&h!=v&&h!=m||r.call(c,"toJSON"))&&(c=c.toJSON(e))}o&&(c=o.call(n,e,c));if(c===null)return"null";h=t.call(c);if(h==g)return""+c;if(h==d)return c>-1/0&&c<1/0?""+c:"null";if(h==v)return L(""+c);if(typeof c=="object"){for(P=l.length;P--;)if(l[P]===c)throw TypeError();l.push(c),M=[],H=f,f+=a;if(h==m){for(D=0,P=c.length;D<P;D++)_=A(D,c,o,u,a,f,l),M.push(_===s?"null":_);B=M.length?a?"[\n"+f+M.join(",\n"+f)+"\n"+H+"]":"["+M.join(",")+"]":"[]"}else i(u||c,function(e){var t=A(e,c,o,u,a,f,l);t!==s&&M.push(L(e)+":"+(a?" ":"")+t)}),B=M.length?a?"{\n"+f+M.join(",\n"+f)+"\n"+H+"}":"{"+M.join(",")+"}":"{}";return l.pop(),B}};a.stringify=function(e,n,r){var i,s,o,u;if(typeof n=="function"||typeof n=="object"&&n)if((u=t.call(n))==h)s=n;else if(u==m){o={};for(var a=0,f=n.length,l;a<f;l=n[a++],(u=t.call(l),u==v||u==d)&&(o[l]=1));}if(r)if((u=t.call(r))==d){if((r-=r%1)>0)for(i="",r>10&&(r=10);i.length<r;i+=" ");}else u==
v&&(i=r.length<=10?r:r.slice(0,10));return A("",(l={},l[""]=e,l),s,o,i,"",[])}}if(!c("json-parse")){var O=String.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},_,D,P=function(){throw _=D=null,SyntaxError()},H=function(){var e=D,t=e.length,n,r,i,s,o;while(_<t){o=e.charCodeAt(_);switch(o){case 9:case 10:case 13:case 32:_++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=y?e.charAt(_):e[_],_++,n;case 34:for(n="@",_++;_<t;){o=e.charCodeAt(_);if(o<32)P();else if(o==92){o=e.charCodeAt(++_);switch(o){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=M[o],_++;break;case 117:r=++_;for(i=_+4;_<i;_++)o=e.charCodeAt(_),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||P();n+=O("0x"+e.slice(r,_));break;default:P()}}else{if(o==34)break;o=e.charCodeAt(_),r=_;while(o>=32&&o!=92&&o!=34)o=e.charCodeAt(++_);n+=e.slice(r,_)}}if(e.charCodeAt(_)==34)return _++,n;P();default:r=_,o==45&&(s=!0,o=e.charCodeAt(++_));if(o>=48&&o<=57){o==48&&(o=e.charCodeAt(_+1),o>=48&&o<=57)&&P(),s=!1;for(;_<t&&(o=e.charCodeAt(_),o>=48&&o<=57);_++);if(e.charCodeAt(_)==46){i=++_;for(;i<t&&(o=e.charCodeAt(i),o>=48&&o<=57);i++);i==_&&P(),_=i}o=e.charCodeAt(_);if(o==101||o==69){o=e.charCodeAt(++_),(o==43||o==45)&&_++;for(i=_;i<t&&(o=e.charCodeAt(i),o>=48&&o<=57);i++);i==_&&P(),_=i}return+e.slice(r,_)}s&&P();if(e.slice(_,_+4)=="true")return _+=4,!0;if(e.slice(_,_+5)=="false")return _+=5,!1;if(e.slice(_,_+4)=="null")return _+=4,null;P()}}return"$"},B=function(e){var t,n;e=="$"&&P();if(typeof e=="string"){if((y?e.charAt(0):e[0])=="@")return e.slice(1);if(e=="["){t=[];for(;;n||(n=!0)){e=H();if(e=="]")break;n&&(e==","?(e=H(),e=="]"&&P()):P()),e==","&&P(),t.push(B(e))}return t}if(e=="{"){t={};for(;;n||(n=!0)){e=H();if(e=="}")break;n&&(e==","?(e=H(),e=="}"&&P()):P()),(e==","||typeof e!="string"||(y?e.charAt(0):e[0])!="@"||H()!=":")&&P(),t[e.slice(1)]=B(H())}return t}P()}return e},j=function(e,t,n){var r=F(e,t,n);r===s?delete e[t]:e[t]=r},F=function(e,n,r){var s=e[n],o;if(typeof s=="object"&&s)if(t.call(s)==m)for(o=s.length;o--;)j(s,o,r);else i(s,function(e){j(s,e,r)});return r.call(e,n,s)};a.parse=function(e,n){var r,i;return _=0,D=""+e,r=B(H()),H()!="$"&&P(),_=D=null,n&&t.call(n)==h?F((i={},i[""]=r,i),"",n):r}}}o&&define(function(){return a})})(this)},{}],51:[function(e,t,n){function r(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}t.exports=r},{}],52:[function(e,t,n){t.exports=function(e){var t,n,r,i,s;switch(!0){case!!e.AnimationEvent:n="animation",r="start",i="iteration",s="end";break;case!!e.WebKitAnimationEvent:n="webkitAnimation",r="Start",i="Iteration",s="End";break;case!!e.MSAnimationEvent:n="MSAnimation",r="Start",i="Iteration",s="End";break;case!!e.OAnimationEvent:n="oanimation",r="start",i="iteration",s="end";break;default:return n=[],s=function(e,n){t(e,n),n({type:"end",currentTarget:e})},t=function(e,t,r){if(arguments.length===3)n.push(e,t,setTimeout(s,r,e,t));else for(var i=0;i<n.length;i+=3)n[i]===e&&n[i+1]===t&&clearTimeout(n.splice(i,3)[2])},{on:function(n,r,i,s){return r==="end"?t(n,i,s):e.console&&e.console.warn("unsupported listener "+r),this},off:function(e,n,r){return n==="end"&&t(e,r),this}}}return t={start:n+r,iteration:n+i,end:n+s},{on:function(e,n,r,i){return e.addEventListener(t[n],r,!1),this},off:function(e,n,r){return e.removeEventListener(t[n],r,!1),this}}}(window)},{}],53:[function(e,t,n){var r=e("restyle");t.exports=function(){return{all:r({"html,body":{cursor:"default",touchAction:"none",userSelect:"none"}}),accuracy:r({"#accuracy":{width:0,marginLeft:0,transition:"all 3s"}}),glow:r({"@keyframes glow":{"0%":{boxShadow:"0px 0px 0px 0px rgba(255,255,255,1)"},"100%":{boxShadow:"0px 0px 32px 16px rgba(255,255,255,1)"}},".glow":{animation:{name:"glow",duration:"1s",iterationCount:"infinite",direction:"alternate"}}}),score:r({"#score":{lineHeight:score.offsetHeight,fontSize:Math.floor(score.offsetHeight/1.5)}}),circle:r({".circle":{position:"fixed",border:"2px solid #DDD",margin:{top:0,left:0},width:0,height:0,borderRadius:"50%"},".circle-showed":{width:100,height:100,margin:{top:-51,left:-51}},"@keyframes circle-showing":{"0%":{width:0,height:0,margin:{top:0,left:0}},"100%":{width:100,height:100,margin:{top:-51,left:-51}}},".circle-showing":{animation:{name:"circle-showing",duration:"250ms",iterationCount:"1",direction:"normal"}},"@keyframes circle-disappearing":{"0%":{opacity:"1",width:100,height:100,margin:{top:-51,left:-51}},"100%":{opacity:"0",width:0,height:0,margin:{top:0,left:0}}},".circle-disappearing":{animation:{name:"circle-disappearing",duration:"250ms",iterationCount:"1",direction:"normal"}}}),animations:r({"@keyframes circle-growing":{"0%":{borderWidth:2,margin:{top:-51,left:-51},boxShadow:"0px 0px 0px 0px rgba(255,255,255,1)"},"100%":{borderWidth:32,margin:{top:-80,left:-80},boxShadow:"0px 0px 32px 16px rgba(255,255,255,1)"}},".circle-growing":{animation:{name:"circle-growing",duration:"500ms",iterationCount:"2",direction:"alternate"}},"@keyframes blue":{"0%":{backgroundColor:"#00A"},"100%":{backgroundColor:"#333"}},"body.blue":{animation:{name:"blue",duration:"350ms",iterationCount:"1",direction:"normal"}},"@keyframes red":{"0%":{backgroundColor:"#A00"},"100%":{backgroundColor:"#333"}},"body.red":{animation:{name:"red",duration:"350ms",iterationCount:"1",direction:"normal"}},"@keyframes blue-highlight":{"0%":{color:"#00F",opacity:"1"},"100%":{color:"#000",opacity:".3"}},".blue-highlight":{animation:{name:"blue-highlight",duration:"350ms",iterationCount:"1",direction:"normal"}},"@keyframes red-highlight":{"0%":{color:"#F00",opacity:"1"},"100%":{color:"#000",opacity:".3"}},".red-highlight":{animation:{name:"red-highlight",duration:"350ms",iterationCount:"1",direction:"normal"}},"@keyframes highlight":{"0%":{color:"#FFF",opacity:"1"},"100%":{color:"#000",opacity:".3"}},".highlight":{animation:{name:"highlight",duration:"900ms",iterationCount:"1",direction:"normal"}}})}}},{restyle:1}],54:[function(e,t,n){function r(e,t,n,r,i,s,o,u){var a=t<r,f=n<i,l=r+(a?-o:o),c=i+(f?-o:o),h=Math.random,p=Math.cos,d=Math.sin,v=Math.PI,m,g,y,b,w,E,S,x;while(u--){e.moveTo(S=t,x=n);do m=r-S,g=i-x,y=S+m/o,b=x+g/o,w=h()*2*v,E=h()*s,S=y+E*p(w),x=b+E*d(w),e.lineTo(S,x);while((a?S<l:l<S)||(f?x<c:c<x));e.lineTo(r,i)}}t.exports=r},{}],55:[function(e,t,n){function u(e){"use strict";function Q(e,t){g.width=e,g.height=t}function G(){Q(document.body.offsetWidth,document.body.offsetHeight),E.score.replace({"#score":{lineHeight:w.offsetHeight,fontSize:h(w.offsetHeight/1.5)}})}function Y(e){e.currentTarget.className="",r.off(e.currentTarget,"end",Y)}function Z(){var e=g.width/2,t=p(d(J-e,2)+K*K),n=50,r=t-n,i=(r*J+n*e)/(r+n),o=r*K/(r+n);y.clearRect(0,0,g.width,g.height),W&&(y.beginPath(),0<W?s(y,e,0,i,o,y.lineWidth=l(1e3,2*W),10,3):s(y,i,o,e,-10,y.lineWidth=10,20,5),y.fillStyle=y.strokeStyle="rgb(221,221,221)",y.fill(),y.stroke(),y.closePath(),C(Z))}function et(e){var t=e.acceleration;document.body.style.backgroundPosition=tt.i-e.gamma+"px "+(tt.i-e.beta)+"px"}function tt(){tt.i++,document.body.style.backgroundPosition=tt.i+"px "+tt.i+"px",C(tt)}e.currentTarget.removeEventListener(e.type,u,!1);var t,n,a=!1,f=Math,l=f.min,c=f.round,h=f.floor,p=f.sqrt,d=f.pow,v="vibrate"in navigator?function(e){navigator.vibrate(e)}:Number,m=document.querySelector("#hi-score"),g=document.querySelector("#canvas"),y=g.getContext("2d"),b=document.querySelector("#details"),w=document.querySelector("#score"),E=i(),S=document.documentElement,x=navigator.pointerEnabled,T=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,N=!!T,C=T||function(){var e=1e3/15,t=[],n=function(e){t.splice(t.indexOf(e),1),e()};return function(r){t.indexOf(r)<0&&(t.push(r),setTimeout(n,e,r))}}(),k="circle circle-showed"+(N?" glow":""),L=function(e){var t=e.currentTarget;t.parentNode.removeChild(t),r.off(t,"end",L)},A=function(e){var t=e.currentTarget;t.className=k,r.off(t,"end",A)},O=function(e){var t=e.currentTarget;t.className=k,r.off(t,"end",O)},M=function(e){if(!e)return;N?(r.on(e,"end",L,250),e.className="circle circle-disappearing"):e.parentNode.removeChild(e)},_=function(e){n||(b.textContent="ready",H.emit("geolocation:coords",{latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy})),n=e.coords;var t=l(n.accuracy,150),r=(document.body.offsetWidth-16)*t/150;E.accuracy.replace({"#accuracy":{width:r,marginLeft:-c(r/2),transition:"all 3s"}})},D={enableHighAccuracy:!0,timeout:Infinity,maximumAge:0},P=navigator.geolocation.watchPosition(_,function(e){navigator.geolocation.clearWatch(P),D.enableHighAccuracy=!1,D.maximumAge=Infinity,P=navigator.geolocation.watchPosition(_,function(e){},D)},D),H=o(),B=function(e){return e.preventDefault(),e.stopPropagation(),e},j=function(e,n){M(t),t=document.body.appendChild(document.createElement("circle")),t.className="circle",t.style.cssText="".concat("top:",e,"px;","left:",n,"px;"),N?(r.on(t,"end",O,250),t.className="circle circle-showing"):t.className=k},F=function(e){if(n){switch(B(e).type){case"mousedown":j(K=e.clientY,J=e.clientX);break;case"touchstart":if(e.touches.length>1)return;j(K=e.touches[0].clientY,J=e.touches[0].clientX);break;case"pointerdown":j(K=e.clientY,J=e.clientX),S.setPointerCapture(e.pointerId);break;case"MSPointerDown":j(K=e.clientY,J=e.clientX),S.msSetPointerCapture(e.pointerId)}a=!0,H.emit("geolocation:start",{latitude:n.latitude,longitude:n.longitude,accuracy:n.accuracy})}},I=function(){t&&(t.style.left=J+"px",t.style.top=K+"px")},q=function(e){var n;switch(B(e).type){case"touchmove":n=e.touches[0];break;default:n=e}t&&(J=n.clientX,K=n.clientY,C(I))},R=function(e){if(a){switch(B(e).type){case"touchend":if(e.touches.length)return;break;case"pointerdown":S.releasePointerCapture(e.pointerId);break;case"MSPointerDown":S.msReleasePointerCapture(e.pointerId)}M(t),t=null,H.emit("geolocation:end",{latitude:n.latitude,longitude:n.longitude,accuracy:n.accuracy})}},U=window.devicePixelRatio||1,z=0,W=0,X=0,V=!1,$,J,K;Q(document.body.offsetWidth,document.body.offsetHeight),tt.i=0,window.addEventListener("resize",G,!1),window.addEventListener("orientationchange",G,!1),window.addEventListener("deviceorientation",et,!1),S.addEventListener("contextmenu",B,!0),S.addEventListener("selectstart",B,!0),x||navigator.msPointerEnabled?(S.addEventListener(x?"pointerdown":"MSPointerDown",F,!0),S.addEventListener(x?"pointermove":"MSPointerMove",q,!0),S.addEventListener(x?"pointerup":"MSPointerUp",R,!0)):(S.addEventListener("touchstart",F,!0),S.addEventListener("touchmove",q,!0),S.addEventListener("touchend",R,!0),S.addEventListener("mousedown",F,!0),S.addEventListener("mousemove",q,!0),S.addEventListener("mouseup",R,!0)),b.textContent="collecting geo data",H.on("baraonda:created",function(e){V=!0,b.textContent=e?"collecting energy":"waiting",w.textContent=e||"",e!==z&&(v(100),r.on(document.body,"end",Y,350),e>z?document.body.className="blue":document.body.className="red",z=e,W=e,W&&C(Z))}),H.on("baraonda:joined",function(e){b.textContent="engaged",w.textContent=e,e!==z&&(e>z?(z||(r.on(b,"end",Y,350),b.className="blue-highlight"),r.on(t,"end",A,500),t.className="circle circle-showed circle-growing"):(r.on(document.body,"end",Y,350),document.body.className="red"),z=e),W=-1,v(100),C(Z)}),H.on("baraonda:finished",function(e){b.textContent="mission completed",w.textContent=e,z=0,M(t),t=null,W=0,r.on(b,"end",Y,350),b.className="blue-highlight",r.on(document.body,"end",Y,350),document.body.className="blue",r.on(w,"end",Y,900),w.className="highlight",v(250)}),H.on("baraonda:terminated",function(e){V=!1,b.textContent=e?"scored":"failed",w.textContent=e,z=0,W=0,r.on(w,"end",Y,600),w.className="highlight",e&&($={latitude:n.latitude,longitude:n.longitude,accuracy:n.accuracy,score:e,date:Date.now()},parseInt(localStorage.getItem("hi-score")||"0",10)<e?(localStorage.setItem("hi-score",e),localStorage.setItem("hi-score-details",JSON.stringify($)),v(500),m.textContent=e,r.on(m,"end",Y,900),m.className="highlight"):v(100))}),H.on("baraonda:left",function(e){b.textContent="revoked",w.textContent=e,z=0,W=0,r.on(b,"end",Y,350),b.className="red-highlight",v(100)}),H.on("baraonda:somebody",function(e){!z&&V&&(b.textContent="watch out",r.on(b,"end",Y,350),b.className="blue-highlight")}),H.on("baraonda:join",function(e){e&&!W&&(b.textContent="somebody is waiting",r.on(b,"end",Y,350),b.className="blue-highlight")}),H.on("connect",function(e){b.textContent=n?"ready":"locating",r.on(b,"end",Y,350),b.className="blue-highlight",z=0}),H.on("disconnect",function(e){b.textContent="limbo",w.textContent="?",z=0,W=0,r.on(b,"end",Y,350),b.className="red-highlight"}),m.textContent=localStorage.getItem("hi-score")||"",N?C(tt):E.circle.replace({".circle":{position:"fixed",margin:{top:0,left:0},width:0,height:0,backgroundColor:"#DDD"},".circle-showed":{width:100,height:100,margin:{top:-51,left:-51}}})}var r=e("./animation"),i=e("./js-style"),s=e("./lightning"),o=e("socket.io-client");document.addEventListener("DOMContentLoaded",u,!1)},{"./animation":52,"./js-style":53,"./lightning":54,"socket.io-client":2}]},{},[55]);